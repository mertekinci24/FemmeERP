<UserControl x:Class="InventoryERP.Presentation.Views.QuotesView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
  <!-- R-060: Quotes List View -->
  <DockPanel Margin="8">
    <!-- Toolbar -->
    <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="0,0,0,8">
      <Button Content="ğŸ“‹ Yeni Teklif" Command="{Binding NewQuoteCommand}" Width="160" Height="32" Margin="0,0,8,0"/>
      <Button Content="ğŸ”„ Yenile" Command="{Binding RefreshCommand}" Width="100" Height="32" Margin="0,0,8,0"/>
      <Button Content="âœï¸ DÃ¼zenle" Command="{Binding EditCommand}" Width="100" Height="32" Margin="0,0,8,0"/>
      <Button Content="âœ… Onayla" Command="{Binding ApproveCommand}" Width="100" Height="32" Margin="0,0,8,0"/>
      <TextBox Width="220" Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}" />
      <TextBlock Text="{Binding RowCount, StringFormat='{}{0} kayÄ±t'}" Margin="8,0,0,0" VerticalAlignment="Center"/>
    </StackPanel>
    
    <!-- Quotes Grid -->
    <DataGrid ItemsSource="{Binding Rows}" SelectedItem="{Binding Selected}"
        AutoGenerateColumns="False" CanUserAddRows="False"
        IsReadOnly="True" EnableRowVirtualization="True"
        MouseDoubleClick="DataGrid_MouseDoubleClick">
      <DataGrid.ContextMenu>
        <ContextMenu>
          <MenuItem Header="DÃ¼zenle" Command="{Binding PlacementTarget.DataContext.EditCommand, RelativeSource={RelativeSource AncestorType=ContextMenu}}"/>
          <MenuItem Header="Onayla" Command="{Binding PlacementTarget.DataContext.ApproveCommand, RelativeSource={RelativeSource AncestorType=ContextMenu}}"/>
          <MenuItem Header="Sil" Command="{Binding PlacementTarget.DataContext.DeleteCmd, RelativeSource={RelativeSource AncestorType=ContextMenu}}"/>
        </ContextMenu>
      </DataGrid.ContextMenu>
      <DataGrid.Columns>
        <DataGridTextColumn Header="No" Binding="{Binding Number}" Width="120"/>
        <DataGridTextColumn Header="Tarih" Binding="{Binding Date, StringFormat='{}{0:yyyy-MM-dd}'}" Width="120"/>
        <DataGridTextColumn Header="Cari" Binding="{Binding Partner}" Width="*"/>
        <DataGridTextColumn Header="Durum" Binding="{Binding Status}" Width="120"/>
        <DataGridTextColumn Header="Net" Binding="{Binding NetTry, StringFormat='{}{0:N2}'}" Width="120"/>
        <DataGridTextColumn Header="KDV" Binding="{Binding VatTry, StringFormat='{}{0:N2}'}" Width="120"/>
        <DataGridTextColumn Header="BrÃ¼t" Binding="{Binding GrossTry, StringFormat='{}{0:N2}'}" Width="120"/>
      </DataGrid.Columns>
    </DataGrid>
  </DockPanel>
</UserControl>
